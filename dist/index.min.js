Object.defineProperty(exports,"__esModule",{value:!0}),exports.MarkovGenerator=void 0;var MarkovGenerator=function(){function r(r){this.corpus=r,this.builtCorpus=null,this.generate=this.generate.bind(this),this.buildCorpus=this.buildCorpus.bind(this),r&&(this.builtCorpus=this.buildCorpus(r))}return r.prototype.generate=function(r,o){void 0===r&&(r=1),void 0===o&&(o=null);var t=this.builtCorpus;o&&(t=this.buildCorpus(o));for(var i=[],n=0;n<r;n++){var e=[t.originators[Math.floor(Math.random()*t.originators.length)]],u=!1;do{var a=e[e.length-1];if(!t[a]||Array.isArray(t[a])&&0==t[a].length)u=!0;else{var s=t[a][Math.floor(Math.random()*t[a].length)];s?e.push(s):u=!0}}while(!u);i.push(e.join(" "))}return 1==i.length?i[0]:i},r.prototype.buildCorpus=function(r){var o={originators:[]};return r.forEach((function(r){var t=r.split(" ");t.forEach((function(r,i){var n;0==i&&o.originators.push(r),o[r]||(o[r]=[]);var e=null!==(n=t[i+1])&&void 0!==n?n:null;e?o[r].push(e):o[r]=null}))})),o},r}();exports.MarkovGenerator=MarkovGenerator;
